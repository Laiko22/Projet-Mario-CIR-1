#include "musiqueM.h"


int continuer_musique = 1;  

int melody[][2] = {
	{E5,150},{E5,150},{REST,150},{E5,150},{REST,150},{C5,150},{E5,300},{G5,300},
	{REST,300},{G4,300},{REST,300},{C5,200},{REST,100},{G4,200},{REST,100},
	{E4,200},{REST,100},{A4,200},{REST,50},{B4,200},{REST,50},{AS4,150},{A4,200},
	{G4,100},{E5,100},{G5,100},{A5,200},{REST,100},{F5,150},{G5,150},{REST,150},
	{E5,150},{REST,150},{C5,150},{D5,150},{B4,300},

	{C5,200},{REST,100},{G4,200},{REST,100},{E4,200},{REST,100},{A4,200},
	{REST,50},{B4,200},{REST,50},{AS4,150},{A4,200},{G4,100},{E5,100},
	{G5,100},{A5,200},{REST,100},{F5,150},{G5,150},{REST,150},{E5,150},
	{REST,150},{C5,150},{D5,150},{B4,300},

	{REST,100},{G5,100},{FS5,100},{F5,100},{DS5,100},
	{REST,100},{E5,100},{REST,100},{GS4,100},{A4,100},{C5,100},
	{REST,100},{A4,100},{C5,100},{D5,100},{REST,100},{G4,100},
	{REST,100},{DS5,100},{D5,100},{C5,100},{REST,100},{C4,100},
	{REST,100},{E4,100},{REST,100},{A4,100},{B4,100},
	{AS4,100},{A4,100},{GS4,100},{REST,100},{E5,100},{REST,100},
	{G5,100},{A5,100},{REST,100},{F5,100},{G5,100},
	{REST,100},{E5,100},{C5,100},{D5,100},{B4,100},

	{REST,100},{G5,100},{FS5,100},{F5,100},{DS5,100},
	{REST,100},{E5,100},{REST,100},{GS4,100},{A4,100},{C5,100},
	{REST,100},{A4,100},{C5,100},{D5,100},{REST,100},{G4,100},
	{REST,100},{DS5,100},{D5,100},{C5,100},{REST,100},{C4,100},
	{REST,100},{E4,100},{REST,100},{A4,100},{B4,100},
	{AS4,100},{A4,100},{GS4,100},{REST,100},{E5,100},{REST,100},
	{G5,100},{A5,100},{REST,100},{F5,100},{G5,100},
	{REST,100},{E5,100},{C5,100},{D5,100},{B4,100},

	{REST,150},{C5,150},{C5,150},{C5,150},{REST,150},
	{REST,150},{C5,150},{C5,150},{C5,150},{REST,150},
	{E5,150},{REST,150},{E5,150},{REST,150},{E5,150},{REST,150},
	{C5,150},{E5,150},{G5,150},{REST,150},{G4,150},{REST,150},

	{C5,200},{REST,100},{G4,200},{REST,100},{E4,200},{REST,100},
	{A4,200},{REST,50},{B4,200},{REST,50},{AS4,150},{A4,200},
	{G4,100},{E5,100},{G5,100},{A5,200},{REST,100},{F5,150},
	{G5,150},{REST,150},{E5,150},{REST,150},{C5,150},
	{D5,150},{B4,300},

	{C5,200},{REST,100},{G4,200},{REST,100},{E4,200},{REST,100},
	{A4,200},{REST,50},{B4,200},{REST,50},{AS4,150},{A4,200},
	{G4,100},{E5,100},{G5,100},{A5,200},{REST,100},{F5,150},
	{G5,150},{REST,150},{E5,150},{REST,150},{C5,150},
	{D5,150},{B4,300},

	{ REST,150 },{G4,150},{REST,150},{G4,150},{REST,150},{G4,150},
	{REST,100},{C5,100},{E4,150},{REST,50},{G4,150},{REST,150},
	{A4,150},{REST,50},{B4,150},{REST,50},{AS4,150},{A4,150},
	{G4,100},{E5,100},{G5,100},{A5,200},{REST,100},{F5,150},
	{G5,150},{REST,150},{E5,150},{REST,150},{C5,150},{D5,150},
	{B4,300},

	{REST,150},{G4,150},{REST,150},{G4,150},{REST,150},{G4,150},
	{REST,100},{C5,100},{E4,150},{REST,50},{G4,150},{REST,150},
	{A4,150},{REST,50},{B4,150},{REST,50},{AS4,150},{A4,150},
	{G4,100},{E5,100},{G5,100},{A5,200},{REST,100},{F5,150},
	{G5,150},{REST,150},{E5,150},{REST,150},{C5,150},{D5,150},
	{B4,300},

	{REST,100},{G5,100},{FS5,100},{F5,100},{DS5,100},{REST,100},
	{E5,100},{REST,100},{GS4,100},{A4,100},{C5,100},{REST,100},
	{A4,100},{C5,100},{D5,100},{REST,100},{G4,100},{REST,100},
	{DS5,100},{D5,100},{C5,100},{REST,100},{C4,100},{REST,100},
	{E4,100},{REST,100},{A4,100},{B4,100},{AS4,100},{A4,100},
	{GS4,100},{REST,100},{E5,100},{REST,100},{G5,100},{A5,100},

	{ REST,100 }, { F5,100 }, { G5,100 }, { REST,100 }, { E5,100 }, { C5,100 },
	{ D5,100 }, { B4,100 }, { REST,100 }, { G5,100 }, { FS5,100 }, { F5,100 },
	{ DS5,100 }, { REST,100 }, { E5,100 }, { REST,100 }, { GS4,100 }, { A4,100 },
	{ C5,100 }, { REST,100 }, { A4,100 }, { C5,100 }, { D5,100 }, { REST,100 },
	{ DS5,100 }, { REST,100 }, { D5,100 }, { C5,100 }, { REST,100 }, { C4,100 },
	{ REST,100 }, { E4,100 }, { REST,100 }, { A4,100 }, { B4,100 },
	{ AS4,100 }, { A4,100 }, { GS4,100 }, { REST,100 }, { E5,100 }, { REST,100 },
	{ G5,100 }, { A5,100 }, { REST,100 }, { F5,100 }, { G5,100 }, { REST,100 },
	{ E5,100 }, { C5,100 }, { D5,100 }, { B4,100 },

	{ REST,150 }, { C5,150 }, { C5,150 }, { C5,150 }, { REST,150 },
	{ REST,150 }, { C5,150 }, { C5,150 }, { C5,150 }, { REST,150 },
	{ E5,150 }, { REST,150 }, { E5,150 }, { REST,150 }, { E5,150 }, { REST,150 },
	{ C5,150 }, { E5,150 }, { G5,150 }, { REST,150 }, { G4,150 }, { REST,150 },

	{ C5,200 }, { REST,100 }, { G4,200 }, { REST,100 }, { E4,200 }, { REST,100 },
	{ A4,200 }, { REST,50 }, { B4,200 }, { REST,50 }, { AS4,150 }, { A4,200 },
	{ G4,100 }, { E5,100 }, { G5,100 }, { A5,200 }, { REST,100 }, { F5,150 },
	{ G5,150 }, { REST,150 }, { E5,150 }, { REST,150 }, { C5,150 }, { D5,150 },
	{ B4,300 },

	{ C5,200 }, { REST,100 }, { G4,200 }, { REST,100 }, { E4,200 }, { REST,100 },
	{ A4,200 }, { REST,50 }, { B4,200 }, { REST,50 }, { AS4,150 }, { A4,200 },
	{ G4,100 }, { E5,100 }, { G5,100 }, { A5,200 }, { REST,100 }, { F5,150 },
	{ G5,150 }, { REST,150 }, { E5,150 }, { REST,150 }, { C5,150 }, { D5,150 },
	{ B4,300 },

	{ REST,150 }, { G4,150 }, { REST,150 }, { G4,150 }, { REST,150 }, { G4,150 },
	{ REST,100 }, { C5,100 }, { E4,150 }, { REST,50 }, { G4,150 }, { REST,150 },
	{ A4,150 }, { REST,50 }, { B4,150 }, { REST,50 }, { AS4,150 }, { A4,150 },
	{ G4,100 }, { E5,100 }, { G5,100 }, { A5,200 }, { REST,100 }, { F5,150 },
	{ G5,150 }, { REST,150 }, { E5,150 }, { REST,150 }, { C5,150 }, { D5,150 },
	{ B4,300 },

	{ REST,150 }, { C5,150 }, { C5,150 }, { C5,150 }, { REST,150 }, { C5,150 },
	{ C5,150 }, { C5,150 }, { REST,150 }, { E5,150 }, { REST,150 }, { E5,150 },
	{ REST,150 }, { E5,150 }, { REST,150 }, { C5,150 }, { E5,150 }, { G5,150 },
	{ REST,150 }, { G4,150 }, { REST,150 }, { REST,300 }
};

int musique_game_over[][2] = {
	{ C5, 150 }, { C5, 300 }, { G4, 150 }, { E4, 150 }, { A4, 150 }, { B4, 150 }, { A4, 150 }, { GS4, 150 }, { AS4, 150 }, { GS4, 150 }, { G4, 600 }
};

void playTone(int freq, int duration_ms) {
	if (freq == 0) {
		Sleep(duration_ms);  
	}
	else {
		Beep(freq, duration_ms);  
	}
}

void playMusic(void* arg) {
	continuer_musique = 1;

	int noteCount = sizeof(melody) / sizeof(melody[0]);

	while (continuer_musique) {
		for (int i = 0; i < noteCount && continuer_musique; i++) {
			playTone(melody[i][0], melody[i][1]);
		}
	}

	_endthread();
}

void stopMusic(void) {
	continuer_musique = 0;
}